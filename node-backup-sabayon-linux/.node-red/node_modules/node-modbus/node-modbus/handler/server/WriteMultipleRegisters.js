"use strict";var stampit=require("stampit");module.exports=stampit().init(function(){var t=function(){this.log.debug("initiating write multiple registers request handler."),this.responseDelay||(this.responseDelay=0),this.setRequestHandler(16,e)}.bind(this),e=function(t,e){setTimeout(function(){if(this.log.debug("handling write multiple registers request."),t.length<3){var i=Buffer.allocUnsafe(2);return i.writeUInt8(144,0),i.writeUInt8(2,1),void e(i)}var r=t.readUInt16BE(1),n=2*r,s=t.readUInt16BE(3),a=t.readUInt8(5);if(s>123){var l=Buffer.allocUnsafe(2);return l.writeUInt8(144,0),l.writeUInt8(3,1),void e(l)}this.emit("preWriteMultipleRegistersRequest",n,s,a);var u=this.getHolding();if(n>u.length||n+2*s>u.length){var o=Buffer.allocUnsafe(2);return o.writeUInt8(144,0),o.writeUInt8(2,1),void e(o)}var f=Buffer.allocUnsafe(5);f.writeUInt8(16,0),f.writeUInt16BE(r,1),f.writeUInt16BE(s,3),t.copy(u,n,6,6+a),this.emit("postWriteMultipleRegistersRequest",n,s,a),e(f)}.bind(this),this.responseDelay)}.bind(this);t()});
//# sourceMappingURL=../../maps/handler/server/WriteMultipleRegisters.js.map
