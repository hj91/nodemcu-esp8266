"use strict";module.exports=function(o){require("source-map-support").install();var n=require("util"),d=require("./modbus-basics"),l=require("debug")("contribModbus:response");o.nodes.registerType("modbus-response",function(e){o.nodes.createNode(this,e),this.registerShowMax=e.registerShowMax;var r=this;function t(e,a){var t;d.statusLog&&(t="response status: "+e,o.settings.verbose&&l("string"==typeof t?t:JSON.stringify(t)));var s="red",i="dot";switch(e){case"initialized":s="green",i="ring";break;case"active":s="green",i="dot";break;default:e&&"waiting"!==e||(s="blue",e="waiting ...")}r.status({fill:s,shape:i,text:n.inspect(a,!1,null)})}function s(e){r.status({fill:"green",shape:"dot",text:"active got length: "+e})}t("initialized"),r.on("input",function(e){var a="default";switch(e.payload.hasOwnProperty("data")&&(a="data"),e.payload.hasOwnProperty("address")&&(a="address"),a){case"data":e.payload.data.length>r.registerShowMax?s(e.payload.data.length):t("active",e.payload);break;case"address":e.payload.length&&e.payload.length>r.registerShowMax?s(e.payload.length):t("active",e.payload);break;default:t("active",JSON.stringify(e.payload))}}),r.on("close",function(){t("closed")})})};
//# sourceMappingURL=maps/modbus-response.js.map
