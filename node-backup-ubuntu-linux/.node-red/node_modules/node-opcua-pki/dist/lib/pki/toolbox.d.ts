import { SubjectOptions } from "../misc/subject";
import { Filename } from "../pki/common";
export declare function quote(str: string): string;
export declare const g_config: any;
export declare function debugLog(...args: any[]): void;
export declare function find_openssl(callback: (err: Error | null, opensslPath?: string) => void): void;
export declare function mkdir(folder: string): void;
export declare function setEnv(varName: string, value: string): void;
export declare function hasEnv(varName: string): boolean;
export interface ExecuteOptions {
    cwd?: string;
    hideErrorMessage?: boolean;
}
export declare function execute(cmd: string, options: ExecuteOptions, callback: (err: Error | null, output: string) => void): void;
export declare function useRandFile(): boolean;
export declare function ensure_openssl_installed(callback: (err?: Error) => void): void;
export interface ExecuteOpenSSLOptions extends ExecuteOptions {
    openssl_conf?: string;
}
export declare function execute_openssl(cmd: string, options: ExecuteOpenSSLOptions, callback: (err: Error | null, output?: string) => void): void;
export declare function execute_openssl_no_failure(cmd: string, options: ExecuteOpenSSLOptions, callback: (err: Error | null, output?: string) => void): void;
export declare function displayChapter(str: string, callback: (err?: Error) => void): void;
export declare function displayTitle(str: string, callback: (err?: Error) => void): void;
export declare function displaySubtitle(str: string, callback: (err?: Error) => void): void;
export declare function getEnvironmentVarNames(): any[];
export declare function generateStaticConfig(configPath: string, options?: ExecuteOptions): string;
export declare function make_path(folderName: string, filename?: string): string;
/**
 *   calculate the public key from private key
 *   openssl rsa -pubout -in private_key.pem
 *
 * @method getPublicKeyFromPrivateKey
 * @param privateKeyFilename
 * @param publicKeyFilename
 * @param callback  {Function}
 */
export declare function getPublicKeyFromPrivateKey(privateKeyFilename: string, publicKeyFilename: string, callback: (err: Error | null) => void): void;
/**
 * extract public key from a certificate
 *   openssl x509 -pubkey -in certificate.pem -nottext
 *
 * @method getPublicKeyFromCertificate
 * @param certificateFilename
 * @param publicKeyFilename
 * @param callback
 */
export declare function getPublicKeyFromCertificate(certificateFilename: string, publicKeyFilename: string, callback: (err: Error | null) => void): void;
declare type KeyLength = 1024 | 2048 | 3072 | 4096;
/**
 * create a RSA PRIVATE KEY
 *
 * @method createPrivateKey
 *
 * @param privateKeyFilename
 * @param keyLength
 * @param callback {Function}
 */
export declare function createPrivateKey(privateKeyFilename: string, keyLength: KeyLength, callback: (err?: Error) => void): void;
export interface CreateCertificateSigningRequestOptions extends Params {
    rootDir?: string;
    configFile?: string;
    privateKey?: string;
}
/**
 * create a certificate signing request
 *
 * @param certificateSigningRequestFilename
 * @param params
 * @param callback
 */
export declare function createCertificateSigningRequest(certificateSigningRequestFilename: string, params: CreateCertificateSigningRequestOptions, callback: (err?: Error) => void): void;
export declare function x509Date(date: Date): string;
export interface Params {
    subject?: SubjectOptions | string;
    startDate?: Date;
    endDate?: Date;
    validity?: number;
    applicationUri?: string;
    dns?: string[];
    ip?: string[];
    privateKey?: string;
    configFile?: string;
    rootDir?: string;
    outputFile?: string;
    reason?: string;
}
export declare function adjustDate(params: Params): void;
export declare function adjustApplicationUri(params: Params): void;
export declare function check_certificate_filename(certificateFile: string): boolean;
/**
 *
 * @param params
 * @param params.applicationUri {String}
 * @param params.dns            {String[]}
 * @param params.ip             {String[]}
 * @private
 */
export declare function processAltNames(params: Params): void;
/**
 *
 * @param certificate
 * @param params
 * @param params.configFile
 * @param params.rootDir
 * @param params.privateKey
 * @param params.applicationUri   {String}
 * @param params.dns              {Array<String>}
 * @param params.ip               {Array<String>}
 * @param params.validity        {Number} certificate duration in days
 * @param [params.subject= "/C=FR/ST=IDF/L=Paris/O=Local NODE-OPCUA Certificate Authority/CN=ZZNodeOPCUA"]
 * @param callback
 */
export declare function createSelfSignCertificate(certificate: string, params: Params, callback: (err?: Error | null) => void): void;
export declare const configurationFileTemplate: string;
/**
 *
 * a minimalist config file for openssl that allows
 * self-signed certificate to be generated.
 *
 */
export declare const configurationFileSimpleTemplate: string;
/**
 * @param certificate {String} - the certificate file in PEM format, file must exist
 * @param callback {Function}
 * @param callback.err    {null|Error}
 * @param callback.output {String} the output string
 */
export declare function dumpCertificate(certificate: Filename, callback: (err: Error | null, output?: string) => void): void;
export declare function toDer(certificatePem: string, callback: (err: Error | null, output?: string) => void): void;
export declare function fingerprint(certificatePem: string, callback: (err: Error | null, output?: string) => void): void;
export {};
