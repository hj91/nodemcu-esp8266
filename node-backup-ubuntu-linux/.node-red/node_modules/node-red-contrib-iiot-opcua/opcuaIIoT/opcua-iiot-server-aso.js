"use strict";module.exports=function(o){require("source-map-support").install();var a=require("./core/opcua-iiot-core");o.nodes.registerType("OPCUA-IIoT-Server-ASO",function(e){o.nodes.createNode(this,e),this.nodeId=e.nodeId,this.browsename=e.browsename,this.displayname=e.displayname,this.objecttype=e.objecttype,this.referencetype=e.referencetype,this.referenceNodeId=e.referenceNodeId,this.datatype=e.datatype,this.value=e.value,this.name=e.name;var d=this;a.internalDebugLog("Open ASO Node"),d.on("input",function(e){"inject"===e.nodetype&&(d.nodeId=e.topic||d.nodeId,d.datatype=e.datatype||d.datatype,d.value=e.payload||d.value),e={payload:{},topic:"ServerAddressSpaceObject",nodetype:"inject",injectType:"ASO"},d.nodeId.includes("i=")||d.nodeId.includes("s=")||d.nodeId.includes("b=")?(e.payload.nodeId=d.nodeId,e.payload.browsename=d.browsename,e.payload.displayname=d.displayname,e.payload.objecttype=d.objecttype,e.payload.datatype=d.datatype,e.payload.value=d.value,e.payload.referenceNodeId=d.referenceNodeId||a.nodeOPCUA.OBJECTS_ROOT,e.payload.referencetype=d.referencetype||a.nodeOPCUA.ReferenceTypeIds.Organizes,a.internalDebugLog("node msg stringified: "+JSON.stringify(e)),d.send(e)):d.error(new Error("ASO NodeId Is Not Valid"),e)}),d.on("close",function(e){a.internalDebugLog("Close ASO Node"),e()})})};
//# sourceMappingURL=maps/opcua-iiot-server-aso.js.map
