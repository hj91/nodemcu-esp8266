"use strict";module.exports=function(n){require("source-map-support").install();var i=require("./modbus-basics"),s=require("debug")("contribModbus:flex:connector");n.nodes.registerType("modbus-flex-connector",function(e){n.nodes.createNode(this,e),this.name=e.name,this.maxReconnectsPerMinute=e.maxReconnectsPerMinute||4,this.emptyQueue=e.emptyQueue,this.showStatusActivities=e.showStatusActivities,this.showErrors=e.showErrors,this.connection=null;var t=this,o=n.nodes.getNode(e.server);o.registerForModbus(t),i.initModbusClientEvents(t,o),i.setNodeStatusTo("waiting",t),t.on("input",function(e){i.invalidPayloadIn(e)||o.client&&(t.showStatusActivities&&i.setNodeStatusTo(o.statlyMachine.getMachineState(),t),e.payload.connectorType?(s("dynamicReconnect: "+JSON.stringify(e.payload)),e.payload.emptyQueue=t.emptyQueue,o.emit("dynamicReconnect",e)):t.error(new Error("Payload Not Valid - Connector Type"),e))})})};
//# sourceMappingURL=maps/modbus-flex-connector.js.map
