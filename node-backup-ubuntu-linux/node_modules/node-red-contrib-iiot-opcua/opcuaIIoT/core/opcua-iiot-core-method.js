"use strict";require("source-map-support").install();var de=de||{biancoroyal:{opcua:{iiot:{core:{method:{}}}}}};de.biancoroyal.opcua.iiot.core.method.core=de.biancoroyal.opcua.iiot.core.method.core||require("./opcua-iiot-core"),de.biancoroyal.opcua.iiot.core.method.internalDebugLog=de.biancoroyal.opcua.iiot.core.method.internalDebugLog||require("debug")("opcuaIIoT:method"),de.biancoroyal.opcua.iiot.core.method.detailDebugLog=de.biancoroyal.opcua.iiot.core.method.detailDebugLog||require("debug")("opcuaIIoT:method:details"),de.biancoroyal.opcua.iiot.core.method.getArgumentDefinition=function(e,o){var t=this.core.nodeOPCUA.coerceNodeId;return new Promise(function(a,i){if(e)try{var n=t(o.methodId);e.getArgumentDefinition(n,function(e,o,t){if(e)i(e);else{var d={};d.methodId=n,d.methodDefinition={},d.methodDefinition.inputArguments=o,d.methodDefinition.outputArguments=t,a(d)}})}catch(e){i(e)}else i(new Error("Method Argument Definition Session Not Valid"))})},de.biancoroyal.opcua.iiot.core.method.callMethods=function(o,a){var i=this.core,n=this.core.nodeOPCUA.coerceNodeId;return new Promise(function(t,d){if(o)try{a.inputArguments.forEach(function(e,o,t){e.dataType=e.dataType,e.value=i.convertDataValueByDataType({value:e.value},e.dataType)});var e=[{objectId:n(a.objectId),methodId:n(a.methodId),inputArguments:a.inputArguments}];o.call(e,function(e,o){e?d(e):t({results:o,msg:a})})}catch(e){d(e)}else d(new Error("Methods Call Session Not Valid"))})},de.biancoroyal.opcua.iiot.core.method.buildMessagesFromMethodCalls=function(t){return new Promise(function(e,o){if(t){e({methodCallsResults:t,messages:[]})}else o(new Error("Methods Call Results To Messages Session Not Valid"))})},de.biancoroyal.opcua.iiot.core.method.invalidMessage=function(e,o){var t=!1;return o.objectId||(e.handleMethodWarn("No Object-Id Found For Method Call"),t=!0),o.methodId||(e.handleMethodWarn("No Method-Id Found For Method Call"),t=!0),o.inputArguments||(e.handleMethodWarn("No Input Arguments Found For Method Call"),t=!0),o.methodType||(e.handleMethodWarn("No Method Type Found For Method Call"),t=!0),t},de.biancoroyal.opcua.iiot.core.method.buildCallMessage=function(e,o){var t=o;return t.objectId=o.payload.objectId||e.objectId,t.methodId=o.payload.methodId||e.methodId,t.methodType=o.payload.methodType||e.methodType,t.inputArguments=o.payload.inputArguments||e.inputArguments,t.nodetype="method",t},module.exports=de.biancoroyal.opcua.iiot.core.method;
//# sourceMappingURL=../maps/core/opcua-iiot-core-method.js.map
