"use strict";module.exports=function(t){require("source-map-support").install();var a=require("./core/opcua-iiot-core-response");t.nodes.registerType("OPCUA-IIoT-Response",function(e){t.nodes.createNode(this,e),this.name=e.name,this.compressStructure=e.compressStructure,this.showStatusActivities=e.showStatusActivities,this.showErrors=e.showErrors,this.activateUnsetFilter=e.activateUnsetFilter,this.activateFilters=e.activateFilters,this.negateFilter=e.negateFilter,this.filters=e.filters;var s=this;s.status({fill:"green",shape:"ring",text:"active"}),s.handleBrowserMsg=function(e){return a.analyzeBrowserResults(s,e),s.compressStructure&&a.compressBrowseMessageStructure(e),e},s.handleReadMsg=function(e){return a.analyzeReadResults(s,e),s.compressStructure&&a.compressReadMessageStructure(e),e},s.handleWriteMsg=function(e){return a.analyzeWriteResults(s,e),s.compressStructure&&a.compressWriteMessageStructure(e),e},s.handleListenerMsg=function(e){return a.analyzeListenerResults(s,e),s.compressStructure&&a.compressListenMessageStructure(e),e},s.handleMethodMsg=function(e){return a.analyzeMethodResults(s,e),s.compressStructure&&a.compressMethodMessageStructure(e),e},s.handleDefaultMsg=function(e){return e&&e.payload&&(a.handlePayloadStatusCode(s,e),s.compressStructure&&a.compressDefaultMessageStructure(e)),e},s.handleNodeTypeOfMsg=function(e){var t=Object.assign({},e);switch(e.nodetype){case"browse":t=s.handleBrowserMsg(t);break;case"read":t=s.handleReadMsg(t);break;case"write":t=s.handleWriteMsg(t);break;case"listen":t=s.handleListenerMsg(t);break;case"method":t=s.handleMethodMsg(t);break;default:t=s.handleDefaultMsg(t)}return t},s.extractEntries=function(e){var t=[];return e.payload.forEach(function(e){s.itemIsNotToFilter(e)&&t.push(e)}),t},s.filterMsg=function(e){if(e.payload.length){var t=s.extractEntries(e);if(t.length)return e.payload=t,e}else if(s.itemIsNotToFilter(e.payload))return e;return null},s.on("input",function(t){try{var e=s.handleNodeTypeOfMsg(t);s.activateFilters&&s.filters&&0<s.filters.length?(e=s.filterMsg(e))&&s.send(e):s.send(e)}catch(e){a.internalDebugLog(e),s.showErrors&&s.error(e,t)}}),s.itemIsNotToFilter=function(t){var r=a.core.checkItemForUnsetState(s,t);return s.filters.forEach(function(e){r=a.core.checkResponseItemIsNotToFilter(s,t,e,r)}),s.negateFilter?!r:r}})};
//# sourceMappingURL=maps/opcua-iiot-response.js.map
